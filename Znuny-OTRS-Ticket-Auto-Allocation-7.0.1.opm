<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>Znuny-OTRS-Ticket-Auto-Allocation</Name>
    <Version>7.0.1</Version>
    <Vendor>mo-azfar</Vendor>
    <URL>https://github.com/mo-azfar/OTRS-Ticket-Auto-Allocation</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007</License>
    <ChangeLog Date="2020-04-15 15:15:00 +0800" Version="6.0.1">1st release.</ChangeLog>
    <ChangeLog Date="2020-10-17 01:01:00 +0800" Version="6.0.2">Include online user check. Change file directory. Update framework</ChangeLog>
    <ChangeLog Date="2023-04-07 00:00:01" Version="6.5.1">Update supported framework 6.5.x. Update version to reflex latest supported framework</ChangeLog>
    <ChangeLog Date="2023-09-21 00:00:01" Version="7.0.1">Update supported framework 7.0.x.</ChangeLog>
    <Description Lang="en">Auto assigning incoming ticket (from email) to the online agent.</Description>
    <Framework>6.0.x</Framework>
    <Framework>6.1.x</Framework>
    <Framework>6.2.x</Framework>
    <Framework>6.3.x</Framework>
    <Framework>6.4.x</Framework>
    <Framework>6.5.x</Framework>
    <Framework>7.0.x</Framework>
    <IntroInstall Lang="en" Title="Install Information" Type="pre">
        &lt;br&gt;
        &lt;b&gt;WELCOME&lt;/b&gt;
        &lt;br&gt;
        &lt;br&gt;
        You are about to install the package Znuny-OTRS-Ticket-Auto-Allocation.Check &lt;a href='https://github.com/mo-azfar/OTRS-Ticket-Auto-Allocation' target='_blank'&gt;README&lt;/a&gt;&lt;br&gt;
        &lt;br&gt;
        &lt;br&gt;
        ((enjoy))&lt;br&gt;
        &lt;br&gt;
    </IntroInstall>
    <CodeInstall Type="post">
$Kernel::OM-&gt;Get('Kernel::System::GenericAgent')-&gt;JobAdd(
        Name =&gt; 'ZZZTicket AutoAllocation',
        Data =&gt; {
            'EventValues' =&gt; [
                           'TicketCreate'
                         ],
			'TicketNumber' =&gt; '*',
            'NewModule' =&gt; 'Kernel::System::GenericAgent::TicketAutoAllocation',
            'Valid' =&gt; 1,
        },
        UserID =&gt; 1,
    );
</CodeInstall>
    <BuildDate>2023-09-21 15:55:54</BuildDate>
    <BuildHost>app.myserver.com</BuildHost>
    <Filelist>
        <File Location="Custom/Kernel/System/GenericAgent/TicketAutoAllocation.pm" Permission="660" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAyMiBtby1hemZhciwgaHR0cHM6Ly9naXRodWIuY29tL21vLWF6ZmFyL09UUlMtVGlja2V0LUF1dG8tQWxsb2NhdGlvbgojCiMgVGhpcyBzb2Z0d2FyZSBjb21lcyB3aXRoIEFCU09MVVRFTFkgTk8gV0FSUkFOVFkuIEZvciBkZXRhaWxzLCBzZWUKIyB0aGUgZW5jbG9zZWQgZmlsZSBDT1BZSU5HIGZvciBsaWNlbnNlIGluZm9ybWF0aW9uIChBR1BMKS4gSWYgeW91CiMgZGlkIG5vdCByZWNlaXZlIHRoaXMgZmlsZSwgc2VlIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9hZ3BsLnR4dC4KIyAtLQpwYWNrYWdlIEtlcm5lbDo6U3lzdGVtOjpHZW5lcmljQWdlbnQ6OlRpY2tldEF1dG9BbGxvY2F0aW9uOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKb3VyIEBPYmplY3REZXBlbmRlbmNpZXM7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHt9OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoJCgkkU2VsZi0+e0RlYnVnfSA9ICRQYXJhbXtEZWJ1Z30gfHwgMDsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCnN1YiBSdW4gewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKICAgIAoJbG9jYWwgJEtlcm5lbDo6T00gPSBLZXJuZWw6OlN5c3RlbTo6T2JqZWN0TWFuYWdlci0+bmV3KAogICAgICAgICdLZXJuZWw6OlN5c3RlbTo6TG9nJyA9PiB7CiAgICAgICAgICAgIExvZ1ByZWZpeCA9PiAnQXV0b0FsbG9jYXRpb24nLCAgIyBub3QgcmVxdWlyZWQsIGJ1dCBoaWdobHkgcmVjb21tZW5kCiAgICAgICAgfSwKICAgICk7CgkKCSMgY2hlY2sgbmVlZGVkIHBhcmFtCiAgICBpZiAoICEkUGFyYW17VGlja2V0SUR9ICkgewogICAgICAgICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKS0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCBUaWNrZXRJRCBmb3IgdGhpcyBvcGVyYXRpb24nLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKCW15ICRUaWNrZXRJRCA9ICRQYXJhbXtUaWNrZXRJRH07ICAKCW15ICRUaWNrZXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CglteSAkU2Vzc2lvbk9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpBdXRoU2Vzc2lvbicpOwoJbXkgJExvZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpMb2cnKTsKCQoJIyBnZXQgdGlja2V0IGRldGFpbHMKCW15ICVUaWNrZXQgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRHZXQoCgkJVGlja2V0SUQgPT4gJFRpY2tldElELAoJCVVzZXJJRCAgID0+IDEsCgkpOwoJCgkjc3RvcCBpZiB0aWNrZXQgY3VycmVudGx5IE5PVCBORVcsIExPQ0tFRCwgT1IgSEFTIEFOIE9XTkVSCglpZiAoICRUaWNrZXR7U3RhdGV9IG5lICJuZXciIHx8ICRUaWNrZXR7TG9ja30gbmUgInVubG9jayIgfHwgJFRpY2tldHtPd25lcklEfSBuZSAxICkKCXsKCQkkTG9nT2JqZWN0LT5Mb2coCgkJCVByaW9yaXR5ID0+ICdpbmZvJywKCQkJTWVzc2FnZSAgPT4gIk5vdCB0aGlzIHRpY2tldDogJFRpY2tldElEXG5cbiIsCgkJKTsKCQlyZXR1cm47Cgl9CgkKCW15ICRHcm91cElEID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OlF1ZXVlJyktPkdldFF1ZXVlR3JvdXBJRCggUXVldWVJRCA9PiAkVGlja2V0e1F1ZXVlSUR9ICk7CgkKCSNnZXQgcG9zc2libGUgb3duZXIKCW15ICVVc2VycyA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpHcm91cCcpLT5QZXJtaXNzaW9uR3JvdXBHZXQoCgkJR3JvdXBJRCA9PiAkR3JvdXBJRCwKCQlUeXBlICAgID0+ICdvd25lcicsCgkpOwoJCgkjZ2V0IG9ubGluZSB1c2VycwoJbXkgJFNlc3Npb25NYXhJZGxlVGltZSA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyktPkdldCgnU2Vzc2lvbk1heElkbGVUaW1lJyk7CiAgICBteSAlT25saW5lICAgPSAoKTsKICAgIG15IEBTZXNzaW9ucyA9ICRTZXNzaW9uT2JqZWN0LT5HZXRBbGxTZXNzaW9uSURzKCk7CgkKCWZvciBteSAkU2Vzc2lvbklEIChAU2Vzc2lvbnMpIHsKICAgICAgICBteSAlRGF0YSA9ICRTZXNzaW9uT2JqZWN0LT5HZXRTZXNzaW9uSUREYXRhKAogICAgICAgICAgICBTZXNzaW9uSUQgPT4gJFNlc3Npb25JRCwKICAgICAgICApOwogICAgICAgIGlmICgKICAgICAgICAgICAgJERhdGF7VXNlclR5cGV9IGVxICdVc2VyJwogICAgICAgICAgICAmJiAkRGF0YXtVc2VyTGFzdFJlcXVlc3R9CiAgICAgICAgICAgICYmICREYXRhe1VzZXJMYXN0UmVxdWVzdH0gKyAkU2Vzc2lvbk1heElkbGVUaW1lCiAgICAgICAgICAgID4gJEtlcm5lbDo6T00tPkNyZWF0ZSgnS2VybmVsOjpTeXN0ZW06OkRhdGVUaW1lJyktPlRvRXBvY2goKQogICAgICAgICAgICAmJiAkRGF0YXtVc2VyRmlyc3RuYW1lfQogICAgICAgICAgICAmJiAkRGF0YXtVc2VyTGFzdG5hbWV9CiAgICAgICAgICAgICkKICAgICAgICB7CiAgICAgICAgICAgICRPbmxpbmV7ICREYXRhe1VzZXJJRH0gfSA9ICIkRGF0YXtVc2VyRnVsbG5hbWV9IjsKICAgICAgICB9CiAgICB9CgkKCSNnZXQgaW50ZXJzZWN0aW9uIGJldHdlZW4gZ3JvdXAgdXNlcnMgYW5kIG9ubGluZQoJbXkgQGNvbW1vbiA9ICgpOwoJZm9yZWFjaCAoa2V5cyAlVXNlcnMpIHsKCQlwdXNoKEBjb21tb24sICRfKSBpZiBleGlzdHMgJE9ubGluZXskX307Cgl9CgkKCSNjaGVjayB3b3JrbG9hZHMKCW15ICVXb3JrbG9hZHM7Cglmb3JlYWNoIG15ICRVc2VySUQgKEBjb21tb24pCgl7CgkJI3JlbW92ZSBzeXN0ZW0gdXNlcgoJCW5leHQgaWYgJFVzZXJJRCBlcSAxOwoJCQoJCSNjaGVjayBvdXQgb2Ygb2ZmaWNlIHVzZXJzCgkJbXkgJVVzZXJPT08gPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VXNlcicpLT5HZXRVc2VyRGF0YSgKCQkJVXNlcklEICAgICAgICA9PiAkVXNlcklELAoJCQlWYWxpZCAgICAgICAgID0+IDEsICAgICAgIAoJCQlOb091dE9mT2ZmaWNlID0+IDEsICAgICAgIAoJCSk7CgkJCgkJJFVzZXJPT097T3V0T2ZPZmZpY2V9IHx8PSAwOwoJCQoJCWlmICggJFVzZXJPT097T3V0T2ZPZmZpY2V9IGVxIDEgKQoJCXsKCQkJbXkgJEN1clN5c3RlbURUT2JqZWN0ID0gJEtlcm5lbDo6T00tPkNyZWF0ZSgnS2VybmVsOjpTeXN0ZW06OkRhdGVUaW1lJyk7CgkJCQoJCQlteSAkU3RhcnREYXRlID0gJEtlcm5lbDo6T00tPkNyZWF0ZSgnS2VybmVsOjpTeXN0ZW06OkRhdGVUaW1lJywKCQkJCU9iamVjdFBhcmFtcyA9PiB7CgkJCQkJWWVhciAgICAgPT4gJFVzZXJPT097T3V0T2ZPZmZpY2VTdGFydFllYXJ9LAoJCQkJCU1vbnRoICAgID0+ICRVc2VyT09Pe091dE9mT2ZmaWNlU3RhcnRNb250aH0sCgkJCQkJRGF5ICAgICAgPT4gJFVzZXJPT097T3V0T2ZPZmZpY2VTdGFydERheX0sCgkJCQkJSG91ciAgICAgPT4gMDAsCgkJCQkJTWludXRlICAgPT4gMDAsCgkJCQkJU2Vjb25kICAgPT4gMDAsCgkJCQl9CgkJCSk7CgkJCQoJCQlteSAkRW5kRGF0ZSA9ICRLZXJuZWw6Ok9NLT5DcmVhdGUoJ0tlcm5lbDo6U3lzdGVtOjpEYXRlVGltZScsCgkJCQlPYmplY3RQYXJhbXMgPT4gewoJCQkJCVllYXIgICAgID0+ICRVc2VyT09Pe091dE9mT2ZmaWNlRW5kWWVhcn0sCgkJCQkJTW9udGggICAgPT4gJFVzZXJPT097T3V0T2ZPZmZpY2VFbmRNb250aH0sCgkJCQkJRGF5ICAgICAgPT4gJFVzZXJPT097T3V0T2ZPZmZpY2VFbmREYXl9LAoJCQkJCUhvdXIgICAgID0+IDIzLAoJCQkJCU1pbnV0ZSAgID0+IDU5LAoJCQkJCVNlY29uZCAgID0+IDU5LAoJCQkJfQoJCQkpOwoJCQkKCQkJI291dCBvZiBvZmZpY2UgZGV0ZWN0ZWQsIHJlbW92ZSB1c2VyCgkJCWlmICggJFN0YXJ0RGF0ZSA8ICRDdXJTeXN0ZW1EVE9iamVjdCAmJiAkRW5kRGF0ZSA+ICRDdXJTeXN0ZW1EVE9iamVjdCApIHsKCQkJCSNyZW1vdmUgdXNlciB3aXRoIG91dCBvZiBvZmZpY2UgYWN0aXZhdGVkIHdpdGggb29vIGRhdGUgd2l0aGluIGN1cnJlbnQgZGF0ZQoJCQkJbmV4dDsKCQkJfQkKCQkJCgkJfQoJCQkKCQlteSBAVGlja2V0SURzID0gJFRpY2tldE9iamVjdC0+VGlja2V0U2VhcmNoKAoJCQlSZXN1bHQgPT4gJ0NPVU5UJywKCQkJU3RhdGVUeXBlICAgID0+IFsnb3BlbicsICduZXcnLCAncGVuZGluZyByZW1pbmRlcicsICdwZW5kaW5nIGF1dG8nXSwKCQkJT3duZXJJRHMgPT4gWyRVc2VySURdLAoJCQlVc2VySUQgPT4gMSwKCQkpOwoJCQkKCQkjVXNlciBJRCA9PiBUaWNrZXQgQ291bnQKCQkkV29ya2xvYWRzeyRVc2VySUR9ID0gJFRpY2tldElEc1swXTsKCQkKCX0KCQoJdXNlIExpc3Q6OlV0aWwgcXcoIG1pbiBtYXggKTsKCW15ICRtaW4gPSBtaW4gdmFsdWVzICVXb3JrbG9hZHMgOwoJCglmb3IgbXkgJE93bmVySUQgKCBrZXlzICVXb3JrbG9hZHMgKSAKCXsKCQlteSAkdmFsID0gJFdvcmtsb2Fkc3skT3duZXJJRH07CgkJaWYgKCR2YWwgZXEgJG1pbikKCQl7CgkJCSNhc3NpZ24gdGlja2V0IHRvIHRoaXMgdXNlciBpZCAkXwoJCQlteSAkU2V0T3duZXIgPSAkVGlja2V0T2JqZWN0LT5UaWNrZXRPd25lclNldCgKCQkJCVRpY2tldElEICA9PiAkVGlja2V0SUQsCgkJCQlOZXdVc2VySUQgPT4gJE93bmVySUQsCgkJCQlVc2VySUQgICAgPT4gMSwKCQkJKTsKCQkJCgkJCWlmICgkU2V0T3duZXIgZXEgMSkKCQkJewoJCQkJbXkgJFN1Y2Nlc3MgPSAkVGlja2V0T2JqZWN0LT5IaXN0b3J5QWRkKAoJCQkJCU5hbWUgICAgICAgICA9PiAiT3duZXIgaGFzIGJlZW4gc2V0IHRvICRPbmxpbmV7JE93bmVySUR9IGJ5IEF1dG8gQWxsb2NhdGlvbiIsCgkJCQkJSGlzdG9yeVR5cGUgID0+ICdPd25lclVwZGF0ZScsICMgc2VlIHN5c3RlbSB0YWJsZXMKCQkJCQlUaWNrZXRJRCAgICAgPT4gJFRpY2tldElELAoJCQkJCUNyZWF0ZVVzZXJJRCA9PiAxLAoJCQkJKTsKCQkJfQoJCQkKCQkJI2JyZWFrIGFmdGVyIDFzdCBtYXRjaAoJCQlsYXN0IGlmICgkdmFsIGVxICRtaW4pOwkKCQl9CgkJCgl9CgkKICAgcmV0dXJuIDE7Cn0KCjE7</File>
    </Filelist>
</otrs_package>